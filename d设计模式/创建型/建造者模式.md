

# 建造者模式

> **定义：** 将一个复杂对象的构建与表示分离，使得同样的构建过程可以创建不同的表示。
>
> **结构：**
>
> > **抽象建造者类：** 这个接口规定要实现复杂对象的那些部分的创建，并不涉及具体的部件对象的创建。
> >
> > **具体建造者类：** 实现 Builder接口，完成复杂产品的各个部件的具体创建方法。在构造过程完成后，提供产品的实例。
> >
> > **产品类：** 要创建的复杂对象
> >
> > **指挥者类：** 调用具体建造者来创建复杂对象的各个部分，在指导者中不涉及具体产品的信息，只负责保证对象各部分完整创建或按某种顺序创建。
>
> **优缺点：**
>
> > **优点：**
> >
> > 1. 建造者模式的封装性很好。使用建造者模式可以有效的封装变化，在使用建造者模式的场景中，一般产品类和建造者类是比较稳定的，因此，将主要的业务逻辑封装在指挥者类中对整体而言可以取得比较好的稳定性。
> > 3. 建造者模式很容易进行扩展。如果有新的需求，通过实现一个新的建造者类就可以完成，基本上不用修改之前已经测试通过的代码，因此也就不会对原有功能引入风险。符合开闭原则。
> > 
> >**缺点：**
> > 
> >1. 建造者模式所创建的产品一般具有较多的共同点，其组成部分相似，如果产品之间的差异性很大，则不适合使用建造者模式，因此其使用范围受到一定的限制。
> 
>**适用场景：**
> 
>> 1. 创建的对象较复杂，由多个部件构成，各部件面临着复杂的变化，但构件间的建造顺序是稳定的。
> > 2. 创建复杂对象的算法独立于该对象的组成部分以及它们的装配方式，即产品的构建过程和最终的表示是独立的。
> 
>**应用案例：**
> 
>> 生产自行车是一个复杂的过程，它包含了车架，车座等组件的生产。而车架又有碳纤维，铝合金等材质的，车座有橡胶，真皮等材质。对于自行车的生产就可以使用建造者模式。
> 
>**模式扩展：** 建造者模式除了上面的用途外，在开发中还有一个常用的使用方式，就是当一个类构造器需要传入很多参数时，如果创建这个类的实例，代码可读性会非常差，而且很容易引入错误，此时就可以利用建造者模式进行重构。